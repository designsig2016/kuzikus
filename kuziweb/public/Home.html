<!doctype html>
<html lang="en">
  <head>
 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
 <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
	<link rel="stylesheet" href="./stylesheets/style.css" type="text/css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<script>
function myFunction() {
    var r = confirm("Are you sure?");
    if (r == true) {
    	x = "Thank you, your request has been received.";
  		alert(x)
	}

}

</script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>

$(document).ready(function(){

	$("#layers").hide();
	$("#data").hide();
    $("#hide").click(function(){
        $("#layers").toggle(400);
    });
	$("#add,#edit").click(function(){
        $("#data").toggle(400);
       	$('.date').datepicker();
    });
});
</script>
    <script src="https://openlayers.org/en/v3.19.1/build/ol.js" type="text/javascript"></script>
    <title>OpenLayers 3 Map</title>
  </head>
  <body>
<div id="title">
	<a href="#"><img src="./images/Logo.jpg"/></a><h2>Carte</h2>
	<hr>
	<button class="left" id="add"><i class="fa fa-plus" aria-hidden="true"></i> Add</button>
	<button class="left" id="edit"><i class="fa fa-pencil" aria-hidden="true"></i> Edit</button>
	<button class="left" id="delete" onclick="myFunction()"><i class="fa fa-trash" aria-hidden="true"></i> Delete</button>
	<button class="right" id="hide"><i class="fa fa-map" aria-hidden="true"></i> Layers</button>

</div>
	<br>
<div id="data">
	<h4><i class="fa fa-fire" aria-hidden="true"></i> Forest fire</h4>
	<form class="form-inline">
      <table>
		  <tr>
			<td><i class="fa fa-map-marker"></i></td>
			<td>Geometry type:</td>
			<td><select id="type">
				<option value="Point">Point</option>
				<option value="LineString">LineString</option>
				<option value="Polygon">Polygon</option>
				<option value="Circle">Circle</option>
				<option value="None">None</option>
			  </select></td>
		  </tr>
		  <tr>
			<td><i class="fa fa-calendar"></i></td>
			<td>Start date</td>
			<td><input type="date" class="date startdate" /></td>
		  </tr>
		  <tr>
			<td><i class="fa fa-calendar"></i></td>
			<td>End date</td>
			<td><input type="date" class="date enddate" /></td>
		  </tr>
		</table>
		<br>      
		<input type="submit" value="Save" id="save"></input>
	</form>
</div>
<script type="text/javascript">
    alert(document.getElementById("fire").checked);
</script>
<div id="map" class="map">  </div>
    <script>
    // Vector layer from a GeoJson file url
	var gjsonFile = new ol.layer.Vector({
                source: new ol.source.Vector({
                    format: new ol.format.GeoJSON(),
                    url: 'layers/burned_areas.geojson',
                    projection: 'EPSG:3857'
                }) 
            });
  	 	var gjsonFile2 = new ol.layer.Vector({
                source: new ol.source.Vector({
                    format: new ol.format.GeoJSON(),
                    url: 'layers/boreholes.geojson',
                    projection: 'EPSG:3857'
                }) 
            });

      var raster = new ol.layer.Tile({
        source: new ol.source.OSM()
      });
      var source = new ol.source.Vector({wrapX: false});
      var vector = new ol.layer.Vector({
        source: source
      });
      var map = new ol.Map({
        layers: [raster, vector,gjsonFile,gjsonFile2],
        target: 'map',
        view: new ol.View({
          center: ol.proj.fromLonLat([18.39,-23.23]),
          zoom: 12
        })
      });
      zoomslider = new ol.control.ZoomSlider();
      map.addControl(zoomslider);
      var typeSelect = document.getElementById('type');
      var draw; // global so we can remove it later
      function addInteraction() {
        var value = typeSelect.value;
        if (value !== 'None') {
          draw = new ol.interaction.Draw({
            source: source,
            type: /** @type {ol.geom.GeometryType} */ (typeSelect.value)
          });
          map.addInteraction(draw);
        }
      }
      /**
       * Handle change event.
       */
      typeSelect.onchange = function() {
        map.removeInteraction(draw);
        addInteraction();
      };
      addInteraction();
      
    </script>
    
	<div id="layers" class="right">
	<h4><i class="fa fa-map" aria-hidden="true"></i> Layers</h4>
	<table>
	<tr>
	<td>
	<tr><td><label><input type="checkbox" name="vehicle" value="RareAnimal">Rare animals</label><br></td></tr>
	<tr><td><label><input type="checkbox" name="vehicle" value="RareAnimal">Flora</label><br></td></tr>
	<tr><td><label><input type="checkbox" name="vehicle" value="RareAnimal">Herds</label><br></td></tr>
	<tr><td><label><input type="checkbox" name="vehicle" value="RareAnimal">Structures</label><br></td></tr>
	<tr><td><label><input type="checkbox" checked name="fire" id="fire" value="RareAnimal">Fires</label><br></td></tr>
	<tr><td><label><input type="checkbox" name="vehicle" value="RareAnimal">Bush Encroachment</label><br></td></tr>
	<tr><td><label><input type="checkbox" name="vehicle" value="RareAnimal">Wood Resources</label><br></td></tr>
	<tr><td><label><input type="checkbox" name="incidents" value="RareAnim
	al">Incidents</label><br></td></tr>
	</table>

  </div>
  </body>
</html>